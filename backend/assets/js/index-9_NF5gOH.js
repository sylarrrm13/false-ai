import{g,u as x}from"./config-FLsHmEoJ.js";import{d as v,V as F,Y as y,r as i,o as S,c as h,b as a,w as t,a as s,e as C,T as w,p as j,g as N}from"./index-mkXm0lbT.js";import{_ as U}from"./_plugin-vue_export-helper-x3n3nnut.js";const B=r=>(j("data-v-08a8c491"),r=r(),N(),r),I={style:{display:"flex","align-items":"center"}},k=B(()=>s("div",null,[s("div",{style:{"margin-bottom":"5px","font-size":"15px"}},"邮箱设置说明"),s("div",{style:{"font-size":"10px"}},"邮箱服务器设置在系统设置页面内,当前页面仅设置注册相关信息")],-1)),z={style:{"text-align":"right"}},E=v({__name:"index",setup(r){F(async()=>{await g("email_reg").then(n=>{const{emailValidation:l,emailFormat:m,emailFrom:p,emailSubject:u,duration:_}=JSON.parse(n.data.value);JSON.parse(n.data.value),e.emailValidation=l=="1",e.emailFormat=m,e.emailFrom=p,e.emailSubject=u,e.duration=_}).catch(n=>{})});const f=async function(){const n={emailValidation:e.emailValidation?"1":"0",emailFormat:e.emailFormat,emailFrom:e.emailFrom,emailSubject:e.emailSubject,duration:e.duration};await x("email_reg",n).then(l=>{const{data:m}=l;m.status==0&&w.success("更新成功")}).catch(l=>{})},e=y({emailValidation:!1,emailFormat:"",emailSubject:"",emailFrom:"",duration:""});return(n,l)=>{const m=i("CoffeeCup"),p=i("el-icon"),u=i("el-card"),_=i("el-switch"),d=i("el-form-item"),c=i("el-input"),V=i("el-form"),b=i("el-button");return S(),h("div",null,[a(u,null,{default:t(()=>[s("div",I,[a(p,{size:"35",color:"blue",style:{"margin-right":"10px"}},{default:t(()=>[a(m)]),_:1}),k])]),_:1}),a(u,{style:{"margin-top":"10px"}},{footer:t(o=>[s("div",z,[a(b,{type:"primary",onClick:f},{default:t(()=>[C("保存设置")]),_:1})])]),default:t(()=>[a(V,{model:e,width:"200px","label-width":"auto"},{default:t(()=>[a(d,{label:"启用邮箱验证 :"},{default:t(()=>[a(_,{modelValue:e.emailValidation,"onUpdate:modelValue":l[0]||(l[0]=o=>e.emailValidation=o),"true-value":"1","false-value":"0"},null,8,["modelValue"])]),_:1}),a(d,{label:"邮件格式 :"},{default:t(()=>[a(c,{modelValue:e.emailFormat,"onUpdate:modelValue":l[1]||(l[1]=o=>e.emailFormat=o),type:"textarea",placeholder:"请输入发送的内容格式[code]为验证码占位符"},null,8,["modelValue"])]),_:1}),a(d,{label:"邮件主题 :"},{default:t(()=>[a(c,{modelValue:e.emailSubject,"onUpdate:modelValue":l[2]||(l[2]=o=>e.emailSubject=o),placeholder:""},null,8,["modelValue"])]),_:1}),a(d,{label:"邮件来源 :"},{default:t(()=>[a(c,{modelValue:e.emailFrom,"onUpdate:modelValue":l[3]||(l[3]=o=>e.emailFrom=o),placeholder:""},null,8,["modelValue"])]),_:1}),a(d,{label:"验证码时长 :"},{default:t(()=>[a(c,{modelValue:e.duration,"onUpdate:modelValue":l[4]||(l[4]=o=>e.duration=o),placeholder:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})])}}}),T=U(E,[["__scopeId","data-v-08a8c491"]]);export{T as default};
